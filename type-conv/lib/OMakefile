OCAML_LIBRARIES =

OCamlMakeLibDeps(%)

OCamlPreprocess(camlp4orf, pa_type_conv)
InstantiateOCamlEnv()

foreach(suff, .cmi .cmo)
  pa_file = pa_type_conv$(suff)
  $(LIBDIR)/$(pa_file): $(pa_file)
    rm(-f $@)
    symlink($<, $@)

.PHONY: pa_type_conv
pa_type_conv: $(LIBDIR)/pa_type_conv.cmi $(LIBDIR)/pa_type_conv.cmo

.DEFAULT: pa_type_conv

clean:
	rm -f *.cmi *.cmo *.annot
